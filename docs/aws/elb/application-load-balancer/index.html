<!doctype html><html lang=en-US><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="可能會記錄一下工作遇到的一些問題、學習到的東西、以及一些瑣碎事。"><meta name=author content="Tom"><title>Application Load Balancer 設定 · 紀錄一些瑣碎事</title><link rel=canonical href=https://fatsong207.github.io/docs/aws/elb/application-load-balancer/><link rel=stylesheet href=/assets/css/docs.min.c79fa7e9ed960154dbc4281e06351f27da62cc0cb1d7a927c7892938423971f1.css integrity><link rel=preconnect href=https://-dsn.algolia.net crossorigin><link rel=stylesheet href=/css/component/docsearch.min.cb5a1c417ef755c9bf17808583cb389f7f745310f105256d2c11714b3cfad6df.css integrity><link rel=manifest href=/manifest.json><link rel=icon href=/img/icon/favicon.ico><link rel=icon href=/img/icon/icon-16.png sizes=16x16 type=image/png><link rel=icon href=/img/icon/icon-32.png sizes=32x32 type=image/png><link rel=apple-touch-icon href=/img/icon/icon-180.png sizes=180x180><meta name=theme-color content="#ffffff" media="(prefers-color-scheme: light)"><meta name=theme-color content="#121212" media="(prefers-color-scheme: dark)"><script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XXXXXXXXXX")</script></head><body><header id=site-header><div id=site-header-brand><a href=/>紀錄一些瑣碎事</a></div><div id=site-header-controls><div class=dropdown><button class=dropdown-btn aria-haspopup=menu aria-label="theme selector">
<i class="icon icon-brightness"></i>
<i class="icon icon-select"></i></button><ul role=menu class=dropdown-menu><li role=menuitem><button class=color-scheme data-value=light><i class="icon icon-light-mode"></i> Light</button></li><li role=menuitem><button class=color-scheme data-value=dark><i class="icon icon-dark-mode"></i> Dark &nbsp;</button></li><li role=menuitem><button class=color-scheme data-value=night><i class="icon icon-night-mode"></i> Night</button></li></ul></div><div class=dropdown><button class=dropdown-btn aria-haspopup=menu aria-label="language selector">
<i class="icon icon-translate"></i>
<i class="icon icon-select"></i></button><ul role=menu class=dropdown-menu><li role=menuitem><a href=#>English</a></li></ul></div></div><div id=site-header-menu><nav><ul><li><a href=/><i class='icon icon-home'></i>Home</a></li><li><a href=/docs class=active><i class='icon icon-book'></i>Docs</a></li></ul></nav></div><div id=site-header-search></div></header><div id=site-main-content-wrapper><aside id=sidebar><span class=btn-close><i class="icon icon-close"></i></span><div class=sticky><strong class=sidebar-section>開始使用</strong>
<a class=sidebar-link href=/docs/my-first-post/>my-first-post
</a><strong class=sidebar-section>AWS</strong>
<a class=sidebar-link href=/docs/aws/>aws
</a><a class=sidebar-link href=/docs/ec2/instance-types/>ec2/instance-types
</a><a class=sidebar-link href=/docs/ec2/security-groups/>ec2/security-groups
</a><a class=sidebar-link href=/docs/elb/application-load-balancer/>elb/application-load-balancer
</a><a class=sidebar-link href=/docs/elb/network-load-balancer/>elb/network-load-balancer</a></div></aside><main><article id=article><nav id=article-nav><button id=article-nav-menu-btn><i class="icon icon-menu"></i> On this section</button>
<button id=article-nav-toc-btn><i class="icon icon-toc"></i> On this page</button></nav><header id=article-header><h1>Application Load Balancer 設定</h1></header><div id=article-content><h1 id=application-load-balancer-alb-設定>Application Load Balancer (ALB) 設定</h1><h2 id=什麼是-alb>什麼是 ALB？</h2><p>Application Load Balancer 工作在 OSI 第 7 層 (應用層)，可以根據 HTTP/HTTPS 請求內容進行路由。</p><h2 id=主要功能>主要功能</h2><h3 id=路徑基礎路由>路徑基礎路由</h3><pre tabindex=0><code>example.com/api/* → API 伺服器群組
example.com/web/* → Web 伺服器群組
</code></pre><h3 id=host-基礎路由>Host 基礎路由</h3><pre tabindex=0><code>api.example.com → API 伺服器群組
www.example.com → Web 伺服器群組
</code></pre><h2 id=設定步驟>設定步驟</h2><h3 id=1-建立目標群組-target-group>1. 建立目標群組 (Target Group)</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 透過 AWS CLI 建立目標群組</span>
</span></span><span class=line><span class=cl>aws elbv2 create-target-group <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --name my-app-targets <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --protocol HTTP <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --port <span class=m>80</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --vpc-id vpc-12345678
</span></span></code></pre></div><h3 id=2-註冊目標實例>2. 註冊目標實例</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 將 EC2 實例註冊到目標群組</span>
</span></span><span class=line><span class=cl>aws elbv2 register-targets <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --target-group-arn arn:aws:elasticloadbalancing:region:account:targetgroup/my-app-targets <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --targets <span class=nv>Id</span><span class=o>=</span>i-1234567890abcdef0
</span></span></code></pre></div><h3 id=3-建立-load-balancer>3. 建立 Load Balancer</h3><ul><li>選擇子網路 (至少兩個 AZ)</li><li>配置安全群組</li><li>設定監聽器規則</li></ul><h2 id=健康檢查設定>健康檢查設定</h2><pre tabindex=0><code>健康檢查路徑: /health
檢查間隔: 30 秒
逾時時間: 5 秒
健康閾值: 2
不健康閾值: 5
</code></pre><h2 id=最佳實務>最佳實務</h2><ol><li><strong>多 AZ 部署</strong> - 至少兩個可用區域</li><li><strong>適當的健康檢查</strong> - 確保檢查端點能反映應用狀態</li><li><strong>SSL 終止</strong> - 在 ALB 層級處理 SSL</li><li><strong>監控設定</strong> - 啟用 CloudWatch 指標</li></ol></div><footer id=article-footer><time id=article-last-updated datetime=2025-07-22><i class="icon icon-calendar"></i>&nbsp;Last updated: 2025-07-22</time>
<a id=article-prev-link href=/docs/elb/network-load-balancer/><i class="icon icon-prev icon-colored"></i> Prev</a></footer></article><aside id=toc><span class=btn-close><i class="icon icon-close"></i></span><div class=sticky><strong><i class="icon icon-toc"></i> On this page</strong><nav id=TableOfContents><ul><li><a href=#什麼是-alb>什麼是 ALB？</a></li><li><a href=#主要功能>主要功能</a><ul><li><a href=#路徑基礎路由>路徑基礎路由</a></li><li><a href=#host-基礎路由>Host 基礎路由</a></li></ul></li><li><a href=#設定步驟>設定步驟</a><ul><li><a href=#1-建立目標群組-target-group>1. 建立目標群組 (Target Group)</a></li><li><a href=#2-註冊目標實例>2. 註冊目標實例</a></li><li><a href=#3-建立-load-balancer>3. 建立 Load Balancer</a></li></ul></li><li><a href=#健康檢查設定>健康檢查設定</a></li><li><a href=#最佳實務>最佳實務</a></li></ul></nav></div></aside></main></div><footer id=site-footer><div id=site-footer-copyright><a href=https://FatSong207.com target=_blank><i class="icon icon-copyright"></i> 2025 Tom</a></div><div id=site-footer-social><a href=https://github.com/FatSong207 target=_blank aria-label="github url"><i class="icon icon-github icon-colored"></i></a></div><div id=site-footer-fund></div><div id=site-footer-love>Made with <i class="icon icon-love icon-colored"></i> &nbsp;from&nbsp;<a href=https://docura.github.io/ target=_blank>Docura</a></div></footer><script type=text/javascript src=/js/base.min.js></script><script src=/js/component/docsearch.min.js></script><script type=application/javascript>docsearch({container:"#site-header-search",appId:"",indexName:"",apiKey:""})</script><script type=application/javascript>"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js?2025-07-22").catch(function(e){console.error("ServiceWorker registration failed: ",e)})</script></body></html>